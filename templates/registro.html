{% extends 'base.html' %}
{% block content %}
  <h2>ğŸ“Š Registro de Transacciones</h2>
  
  <div class="table-responsive shadow-sm rounded">
    <table class="table table-striped table-hover align-middle">
      <thead class="table-primary">
        <tr>
          <th>ğŸ“… Fecha</th>
          <th>ğŸ”– Tipo</th>
          <th>ğŸ’° Monto (S/.)</th>
          <th>ğŸ’³ MÃ©todo</th>
          <th>ğŸ·ï¸ CategorÃ­a</th>
        </tr>
      </thead>
      <tbody>
        {% for r in registros %}
          <tr>
            <td>{{ r.fecha.strftime('%Y-%m-%d') }}</td>
            <td>
              {% if r.tipo == 'Ingreso' %}
                ğŸŸ¢ {{ r.tipo }}
              {% elif r.tipo == 'Gasto' %}
                ğŸ”´ {{ r.tipo }}
              {% else %}
                {{ r.tipo }}
              {% endif %}
            </td>
            <td class="{% if r.tipo == 'Ingreso' %}text-success{% elif r.tipo == 'Gasto' %}text-danger{% endif %} fw-semibold">
              S/. {{ '%.2f'|format(r.monto) }}
            </td>
            <td>
              {% if r.metodo == 'Efectivo' %}
                ğŸ’µ {{ r.metodo }}
              {% elif r.metodo == 'Yape' %}
                ğŸ“± {{ r.metodo }}
              {% elif r.metodo == 'Izipay' %}
                ğŸ’³ {{ r.metodo }}
              {% else %}
                {{ r.metodo }}
              {% endif %}
            </td>
            <td>{{ r.categoria or '-' }}</td>
          </tr>
        {% else %}
          <tr>
            <td colspan="5" class="text-center text-muted fst-italic">No hay transacciones registradas aÃºn. ğŸ’¤</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
